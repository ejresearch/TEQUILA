{"ast":null,"code":"var _s = $RefreshSig$();\n// React hooks for curriculum generation\nimport { useState, useCallback } from 'react';\nimport api from '../api/client';\nexport function useGeneration() {\n  _s();\n  const [generating, setGenerating] = useState(false);\n  const [progress, setProgress] = useState(null);\n  const [error, setError] = useState(null);\n  const [result, setResult] = useState(null);\n  const generateWeek = useCallback(async weekNumber => {\n    setGenerating(true);\n    setError(null);\n    setProgress({\n      week: weekNumber,\n      day: 1,\n      field: 0,\n      totalFields: 28,\n      // 7 fields × 4 days\n      status: 'generating',\n      message: `Starting generation for Week ${weekNumber}...`\n    });\n    try {\n      const result = await api.hydrateWeek(weekNumber);\n      setProgress({\n        week: weekNumber,\n        day: 4,\n        field: 28,\n        totalFields: 28,\n        status: 'completed',\n        message: 'Generation completed successfully!'\n      });\n      setResult(result);\n      return result;\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Generation failed';\n      setError(errorMessage);\n      setProgress({\n        week: weekNumber,\n        day: 0,\n        field: 0,\n        totalFields: 28,\n        status: 'error',\n        message: errorMessage\n      });\n      throw err;\n    } finally {\n      setGenerating(false);\n    }\n  }, []);\n  const generateWeekRange = useCallback(async (fromWeek, toWeek) => {\n    const results = [];\n    for (let week = fromWeek; week <= toWeek; week++) {\n      try {\n        const result = await generateWeek(week);\n        results.push(result);\n      } catch (err) {\n        // Continue with next week even if this one fails\n        console.error(`Week ${week} generation failed:`, err);\n      }\n    }\n    return results;\n  }, [generateWeek]);\n  const resetGeneration = useCallback(() => {\n    setGenerating(false);\n    setProgress(null);\n    setError(null);\n    setResult(null);\n  }, []);\n  return {\n    generating,\n    progress,\n    error,\n    result,\n    generateWeek,\n    generateWeekRange,\n    resetGeneration\n  };\n}\n_s(useGeneration, \"TgO9i97XWk154Cx+n3o8imdlTio=\");","map":{"version":3,"names":["useState","useCallback","api","useGeneration","_s","generating","setGenerating","progress","setProgress","error","setError","result","setResult","generateWeek","weekNumber","week","day","field","totalFields","status","message","hydrateWeek","err","errorMessage","Error","generateWeekRange","fromWeek","toWeek","results","push","console","resetGeneration"],"sources":["/Users/elle_jansick/steel/frontend/src/hooks/useGeneration.ts"],"sourcesContent":["// React hooks for curriculum generation\nimport { useState, useCallback } from 'react'\nimport api from '../api/client'\nimport type { WeekHydrationResult, GenerationProgress } from '../types'\n\nexport function useGeneration() {\n  const [generating, setGenerating] = useState(false)\n  const [progress, setProgress] = useState<GenerationProgress | null>(null)\n  const [error, setError] = useState<string | null>(null)\n  const [result, setResult] = useState<WeekHydrationResult | null>(null)\n\n  const generateWeek = useCallback(async (weekNumber: number) => {\n    setGenerating(true)\n    setError(null)\n    setProgress({\n      week: weekNumber,\n      day: 1,\n      field: 0,\n      totalFields: 28, // 7 fields × 4 days\n      status: 'generating',\n      message: `Starting generation for Week ${weekNumber}...`,\n    })\n\n    try {\n      const result = await api.hydrateWeek(weekNumber)\n\n      setProgress({\n        week: weekNumber,\n        day: 4,\n        field: 28,\n        totalFields: 28,\n        status: 'completed',\n        message: 'Generation completed successfully!',\n      })\n\n      setResult(result)\n      return result\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Generation failed'\n      setError(errorMessage)\n      setProgress({\n        week: weekNumber,\n        day: 0,\n        field: 0,\n        totalFields: 28,\n        status: 'error',\n        message: errorMessage,\n      })\n      throw err\n    } finally {\n      setGenerating(false)\n    }\n  }, [])\n\n  const generateWeekRange = useCallback(async (fromWeek: number, toWeek: number) => {\n    const results: WeekHydrationResult[] = []\n\n    for (let week = fromWeek; week <= toWeek; week++) {\n      try {\n        const result = await generateWeek(week)\n        results.push(result)\n      } catch (err) {\n        // Continue with next week even if this one fails\n        console.error(`Week ${week} generation failed:`, err)\n      }\n    }\n\n    return results\n  }, [generateWeek])\n\n  const resetGeneration = useCallback(() => {\n    setGenerating(false)\n    setProgress(null)\n    setError(null)\n    setResult(null)\n  }, [])\n\n  return {\n    generating,\n    progress,\n    error,\n    result,\n    generateWeek,\n    generateWeekRange,\n    resetGeneration,\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}